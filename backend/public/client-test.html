<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      fetch("http://localhost:8001/api/disk")
        .then((response) => response.json())
        .then((data) => {
          console.log("Rohdaten:", data); // Debug-Ausgabe

          if (!data || !data.data) {
            throw new Error("Keine gÃ¼ltigen Daten vom Server");
          }
          const lines = data.data.split("\n");
          const header = lines[0].split(/\s+/);
          const disks = lines.slice(1).map((line) => {
            const values = line.split(/\s+/);
            return {
              filesystem: values[0],
              size: values[1],
              used: values[2],
              available: values[3],
              usePercent: values[4],
              mountedOn: values[5],
            };
          });
          console.log(disks);
        });
    </script>
  </head>
  <body></body>
</html>
